server {

	listen 8080 http2;
	listen [::]:8080 http2;

	server_name download.versatiles.org;

	resolver 9.9.9.9 80.80.80.80 [2a11::];
	resolver_timeout 5s;
	add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload";
	add_header X-Content-Type-Options nosniff;
	add_header X-XSS-Protection "1; mode=block";

	access_log off;
	log_not_found off;
	error_log /var/www/download.versatiles.org/logs/error.log emerg;

	etag on;
	gzip_static off;
	brotli_static off;

	root /var/www/download.versatiles.org/docs;
	index index.html;
	charset utf-8;

	# deny access to hidden
	location ~ /\/\.(git|ht|DS_|npm)/ {
		deny all;
	}

	location = /robots.txt {
		add_header Content-Type text/plain;
		return 200 "User-agent: *\nDisallow:\n";
	}

	location = /favicon.ico {
		root /home/web/download.versatiles.org/docs/favicon.ico;
	}

	location = / {
		root /home/web/download.versatiles.org/docs/index.html;
	}
	
	location = /urllist.tsv {
		root /home/web/download.versatiles.org/docs/urllist.tsv;
	}
}
